<!--
  @author Parth Parmar <parth.parmar@default.ca>
-->
<section class="container product-detail mt-5 mb-5">
  <div class="row">
    <div class="col-md-6">
      <img src="{{ product?.imagePath | async }}" class="product-detail-img" />
    </div>
    <div class="col-md-6">
      <form class="col-lg-9 col-md-12" [formGroup]="productFormGroup">
        <mat-form-field>
          <input matInput type="text" placeholder="Name" autocomplete="off" [formControl]="name" required />
          <mat-error *ngIf="name.hasError('required')">
            Please Enter Product Name
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Category: </mat-label>
          <mat-select [formControl]="category">
            <mat-option *ngFor="let category of categories" [value]="category.id">
              {{ category.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="w-100 mt-2 mb-2">
          <textarea
            matInput
            rows="10"
            [formControl]="description"
            placeholder="Description"
            autocomplete="off"
            required
          ></textarea>
          <mat-error *ngIf="description.hasError('required')">
            Please Enter Product Description
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput type="number" [formControl]="quantity" placeholder="Quantity" autocomplete="off" required />
          <mat-error *ngIf="quantity.hasError('required')">
            Please Enter Product Quantity
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            type="number"
            [formControl]="limit"
            placeholder="Limit Per Order"
            autocomplete="off"
            required
          />
          <mat-error *ngIf="limit.hasError('required')">
            Please Enter Limit Per Order
          </mat-error>
        </mat-form-field>
      </form>
    </div>
    <div class="col-md-6"></div>
    <div class="col-md-6">
      <button
        class="app-primary-btn"
        [disabled]="!productFormGroup.valid"
        style="margin: auto;"
        (click)="save()"
        mat-button
      >
        {{ buttonName }}
      </button>
      <button class="app-primary-btn" style="margin: auto;" (click)="close()" mat-button>Close</button>
    </div>
  </div>
</section>
<app-loader [isLoading]="isLoading" [size]="4"></app-loader>
